<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn Hindi</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f8f8f8;
            margin: 0;
            padding: 0;
        }

        .header {
            background-color: #a4c2f4;
            padding: 15px;
            font-size: 50px;
            font-weight: bold;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .profile-pic {
            width: 100px;
            height: 100px;
            background-color: white;
            border-radius: 50%;
            margin-right: 15px;
        }

        .title-container {
            display: flex;
            align-items: center;
            flex-grow: 1;
        }

        .header img {
            width: 100px;
            height: 100px;
            cursor: pointer;
        }

        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            gap: 20px;
        }

        .box {
            width: 600px;
            height: 600px;
            border: 20px solid #a4c2f4;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: white;
            border-radius: 20px;
            position: relative;
        }

        .box img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            position: absolute;
        }

        .box:nth-child(2) img {
            opacity: 0.5;
        }

        .box:nth-child(2) {
            position: relative;
            cursor: url('./data/pencil.png') 16 16, auto;
        }

        .box:nth-child(2) canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: auto;
        }

        .box:nth-child(2)::before,
        .box:nth-child(2)::after,
        .box:nth-child(2) .middle-line {
            content: "";
            position: absolute;
            width: 95%;
            height: 4px;
            background-color: pink;
            left: 5%;
        }

        .box:nth-child(2)::before {
            top: 10%;
        }

        .box:nth-child(2) .middle-line {
            top: 50%;
        }

        .box:nth-child(2)::after {
            top: 90%;
        }

        .footer {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 20px;
        }

        .footer img {
            width: 120px;
            height: 120px;
            cursor: pointer;
            position: absolute;
            left: 500px;
            top: 20px;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="title-container">
            <div class="profile-pic"></div>
            <span>LearnHindi</span>
        </div>
        <img src="./data/back.jpg" alt="Back">
    </div>

    <div class="container">
        <div class="box">
            <img src="./data/a.png" alt="Hindi Letter">
        </div>
        <div class="box">
            <div class="middle-line"></div>
            <img id="tracingImage" src="./data/a.png" alt="Hindi Letter (Transparent)">
            <canvas id="drawingCanvas"></canvas>
        </div>
    </div>

    <div class="footer">
        <img src="./data/next.jpeg" alt="Next">
    </div>

    <script>
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');
        const tracingImage = document.getElementById('tracingImage');
        let drawing = false;

        function resizeCanvas() {
            canvas.width = tracingImage.clientWidth;
            canvas.height = tracingImage.clientHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        function getCanvasOffset(event) {
            const rect = tracingImage.getBoundingClientRect();
            return {
                x: event.clientX - rect.left,
                y: event.clientY - rect.top
            };
        }

        function isInsideImage(x, y) {
            return x >= 0 && x <= canvas.width && y >= 0 && y <= canvas.height * 0.95;
        }

        function startDrawing(event) {
            const pos = getCanvasOffset(event);
            if (!isInsideImage(pos.x, pos.y)) return;
            drawing = true;
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
        }

        function draw(event) {
            if (!drawing) return;
            const pos = getCanvasOffset(event);
            if (!isInsideImage(pos.x, pos.y)) return;
            ctx.lineTo(pos.x, pos.y);
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 4;
            ctx.lineCap = 'round';
            ctx.stroke();
        }

        function stopDrawing() {
            drawing = false;
            ctx.closePath();
        }

        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseleave', stopDrawing);

        canvas.addEventListener('touchstart', (event) => {
            event.preventDefault();
            startDrawing(event.touches[0]);
        });

        canvas.addEventListener('touchmove', (event) => {
            event.preventDefault();
            draw(event.touches[0]);
        });

        canvas.addEventListener('touchend', stopDrawing);
    </script>
</body>
</html>
